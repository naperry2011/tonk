:root{--bg-primary: #0f0f1a;--bg-secondary: #1a1a2e;--bg-table: #1b4332;--bg-table-dark: #143528;--bg-elevated: #252538;--felt-green: #1b4332;--gold-accent: #d4a855;--gold-light: #e6c171;--gold-dark: #b8923e;--rose-gold: #b76e79;--card-white: #ffffff;--card-shadow: rgba(0, 0, 0, .4);--card-glow: rgba(212, 168, 85, .15);--red-suit: #e63946;--black-suit: #1a1a1a;--text-light: #f0f0f0;--text-muted: #a0a0b0;--text-dark: #1a1a1a;--border-subtle: rgba(255, 255, 255, .1);--border-accent: rgba(212, 168, 85, .3);--danger: #e63946;--success: #2a9d5c;--info: #6c5ce7;--shadow-sm: 0 2px 8px rgba(0, 0, 0, .3);--shadow-md: 0 4px 16px rgba(0, 0, 0, .4);--shadow-lg: 0 8px 32px rgba(0, 0, 0, .5);--shadow-glow: 0 0 20px rgba(212, 168, 85, .2);--space-unit: 4px;--space-xs: 4px;--space-sm: 8px;--space-md: 12px;--space-base: 16px;--space-lg: 24px;--space-xl: 32px;--space-2xl: 48px;--card-width: 70px;--card-height: 100px;--card-scale-opponent: .65;--card-scale-spread: .7;--header-height: 60px;--opponent-area-min: 120px;--table-area-min: 180px;--spreads-area-min: 90px;--gap-opponent: 20px;--gap-deck: 25px;--gap-buttons: 8px;--gap-player-hand: 6px;--gap-spreads: 10px;--card-overlap-ratio: .3;--message-area-top: calc(var(--header-height) + var(--space-base))}*{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;overflow:hidden}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:var(--bg-primary);min-height:100vh;color:var(--text-light)}#game-container{display:grid;grid-template-columns:minmax(0,1fr);grid-template-rows:auto auto 1fr auto auto;grid-template-areas:"header" "opponent-top" "table" "player" "actions";row-gap:var(--space-sm);height:100vh;height:100dvh;max-width:1200px;margin:0 auto;padding:var(--space-sm) var(--space-base);position:relative;background:radial-gradient(ellipse at center,var(--bg-table) 0%,var(--bg-table-dark) 70%,var(--bg-primary) 100%);border-left:1px solid var(--border-subtle);border-right:1px solid var(--border-subtle)}#game-container[data-player-count="3"]{grid-template-columns:minmax(0,1fr);grid-template-rows:auto auto 1fr auto auto;grid-template-areas:"header" "opponent-top" "table" "player" "actions"}#game-container[data-player-count="4"]{grid-template-columns:minmax(60px,auto) minmax(0,1fr) minmax(60px,auto);grid-template-rows:auto auto 1fr auto auto;grid-template-areas:"header header header" ". opponent-top ." "opponent-left table opponent-right" "player player player" "actions actions actions";column-gap:var(--space-sm)}#game-header{grid-area:header}#table-area{grid-area:table}#player-area{grid-area:player}#action-buttons{grid-area:actions}#opponent-area{grid-area:opponent-top}.opponent-left-area{grid-area:opponent-left;display:none}.opponent-right-area{grid-area:opponent-right;display:none}#game-container[data-player-count="4"] .opponent-left-area,#game-container[data-player-count="4"] .opponent-right-area{display:flex;align-items:center;justify-content:center}#game-header{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:var(--bg-secondary);border-bottom:1px solid var(--border-accent);box-shadow:var(--shadow-md)}#header-left{display:flex;align-items:center;gap:15px}#game-header h1{font-size:1.8rem;font-weight:700;color:var(--gold-accent);text-shadow:0 2px 4px rgba(0,0,0,.5);letter-spacing:6px;margin:0}#btn-rules,#btn-settings{padding:10px 18px;font-size:.85rem;font-weight:600;background:var(--bg-elevated);color:var(--text-light);border:1px solid var(--border-subtle);border-radius:8px;cursor:pointer;transition:all .2s ease;text-transform:uppercase;letter-spacing:1px}#btn-rules:hover,#btn-settings:hover{background:var(--gold-accent);color:var(--text-dark);border-color:var(--gold-accent);box-shadow:var(--shadow-glow)}#match-scores{display:flex;gap:24px;font-size:.9rem;background:var(--bg-elevated);padding:10px 20px;border-radius:10px;border:1px solid var(--border-subtle)}#match-scores .player-score{display:flex;gap:8px;align-items:center}#match-scores .player-score .name{font-weight:600;color:var(--text-muted)}#match-scores .player-score.human .name{color:var(--gold-accent)}#match-scores .player-score .points{color:var(--text-light);font-weight:700}#turn-indicator{font-size:1rem;font-weight:600;color:var(--text-light);padding:8px 20px;background:var(--bg-elevated);border:1px solid var(--border-subtle);border-radius:25px;display:inline-block;letter-spacing:.5px}#turn-indicator.your-turn{background:linear-gradient(135deg,var(--gold-accent) 0%,var(--gold-dark) 100%);color:var(--text-dark);border-color:var(--gold-light);box-shadow:var(--shadow-glow);animation:glow-pulse 2s ease-in-out infinite}@keyframes glow-pulse{0%,to{box-shadow:var(--shadow-glow)}50%{box-shadow:0 0 30px #d4a85566}}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}#message-area{position:fixed;top:var(--message-area-top);left:50%;transform:translate(-50%);padding:10px 25px;background:#000c;border-radius:8px;font-size:1rem;z-index:100;opacity:0;transition:opacity .3s ease;pointer-events:none}#message-area.visible{opacity:1}#message-area.error{background:var(--danger)}#message-area.success{background:var(--success)}#start-screen{position:absolute;inset:0;background:linear-gradient(135deg,var(--bg-primary) 0%,var(--bg-table) 50%,var(--bg-primary) 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:200}#start-screen.hidden{display:none}#start-screen h1{font-size:4rem;color:var(--gold-accent);text-shadow:3px 3px 6px rgba(0,0,0,.5);letter-spacing:8px;margin-bottom:10px}#start-screen p{font-size:1.2rem;margin-bottom:40px;opacity:.8}#player-select{margin-bottom:30px}#player-select label{display:block;margin-bottom:10px;font-size:1.1rem}#player-select select{padding:10px 20px;font-size:1rem;border-radius:8px;border:none;background:var(--card-white);color:var(--text-dark);cursor:pointer}#btn-start-game{padding:15px 50px;font-size:1.3rem;background:var(--gold-accent);color:var(--text-dark);border:none;border-radius:8px;cursor:pointer;transition:all .2s ease;font-weight:700}#btn-start-game:hover{background:var(--gold-dark);transform:scale(1.05)}.modal{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:300}.modal.hidden{display:none}.modal-content{background:var(--felt-green);padding:40px;border-radius:16px;text-align:center;max-width:min(500px,calc(100vw - var(--space-lg) * 2));width:90%;box-shadow:0 10px 30px #00000080}.modal-content h2{font-size:2.5rem;color:var(--gold-accent);margin-bottom:15px}.modal-content p{font-size:1.2rem;margin-bottom:20px}#final-scores{background:#0000004d;padding:15px;border-radius:8px;margin-bottom:25px}#final-scores .score-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.2)}#final-scores .score-row:last-child{border-bottom:none}#final-scores .score-row.winner{color:var(--gold-accent);font-weight:700}#final-scores .score-row.score-header{font-weight:700;font-size:.9rem;opacity:.8;border-bottom:2px solid rgba(255,255,255,.3);padding-bottom:10px;margin-bottom:5px}#final-scores .score-row span{flex:1;text-align:center}#final-scores .score-row span:first-child{text-align:left}#game-over-buttons{display:flex;gap:15px;justify-content:center}#btn-new-game,#btn-continue-round{padding:15px 40px;font-size:1.2rem;background:var(--gold-accent);color:var(--text-dark);border:none;border-radius:8px;cursor:pointer;transition:all .2s ease;font-weight:700}#btn-new-game:hover,#btn-continue-round:hover{background:var(--gold-dark);transform:scale(1.05)}#btn-continue-round{background:var(--success);color:#fff}#btn-continue-round:hover{background:#218838}.rules-content{max-width:min(600px,calc(100vw - var(--space-lg) * 2));max-height:80vh;overflow-y:auto;text-align:left;position:relative}.rules-content h2{text-align:center;margin-bottom:25px}.rules-content h3{color:var(--gold-accent);margin:20px 0 10px;font-size:1.1rem}.rules-content p{margin-bottom:12px;line-height:1.5;font-size:1rem}.rules-content ul,.rules-content ol{margin:10px 0 15px 20px;line-height:1.6}.rules-content li{margin-bottom:6px}.modal-close{position:absolute;top:15px;right:20px;background:none;border:none;color:var(--text-light);font-size:2rem;cursor:pointer;opacity:.7;transition:opacity .2s ease;line-height:1}.modal-close:hover{opacity:1}#btn-draw{background:#6c5ce7;color:#fff}#btn-draw:hover:not(:disabled){background:#5b4cdb;transform:translateY(-2px)}button{font-family:inherit}button:disabled{opacity:.5;cursor:not-allowed!important}.hidden{display:none!important}@supports (padding: env(safe-area-inset-top)){#game-container{padding-left:max(var(--space-base),env(safe-area-inset-left));padding-right:max(var(--space-base),env(safe-area-inset-right));padding-bottom:max(var(--space-sm),env(safe-area-inset-bottom))}#action-buttons{padding-bottom:max(var(--space-md),env(safe-area-inset-bottom))}}@media(max-width:480px){#game-container[data-player-count="4"]{grid-template-columns:minmax(45px,auto) minmax(0,1fr) minmax(45px,auto);column-gap:2px}}@media(max-width:380px){#game-container[data-player-count="4"]{grid-template-columns:minmax(35px,auto) minmax(0,1fr) minmax(35px,auto);column-gap:1px}}@media(max-height:500px)and (orientation:landscape){#game-container[data-player-count="4"]{grid-template-columns:minmax(50px,auto) minmax(0,1fr) minmax(50px,auto)}}.card{width:var(--card-width);height:var(--card-height);background:linear-gradient(145deg,#fff,#f5f5f5);border-radius:8px;box-shadow:0 2px 4px #0003,0 4px 8px #00000026,inset 0 1px #fffc;position:relative;transition:transform .2s ease,box-shadow .2s ease;flex-shrink:0;border:1px solid rgba(0,0,0,.1)}.card:before{content:"";position:absolute;inset:0;border-radius:7px;background:linear-gradient(135deg,rgba(255,255,255,.3) 0%,transparent 50%,rgba(0,0,0,.02) 100%);pointer-events:none}.card.selectable{cursor:pointer}.card.selectable:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 8px 16px #00000040,0 12px 24px #00000026,0 0 20px var(--card-glow)}.card.selected{transform:translateY(-15px) scale(1.03);box-shadow:0 15px 30px #0000004d,0 0 30px #d4a85566;outline:3px solid var(--gold-accent);outline-offset:-1px}.card[data-suit=hearts],.card[data-suit=diamonds]{color:var(--red-suit)}.card[data-suit=clubs],.card[data-suit=spades]{color:var(--black-suit)}.card-corner{position:absolute;display:flex;flex-direction:column;align-items:center;font-size:.85rem;line-height:1;font-family:Georgia,serif}.card-corner .rank{font-weight:700;font-size:1rem}.card-corner .suit{font-size:.8rem;margin-top:1px}.card-corner.top-left{top:5px;left:6px}.card-corner.bottom-right{bottom:5px;right:6px;transform:rotate(180deg)}.card-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.card-center .suit-large{font-size:2rem;text-shadow:0 1px 2px rgba(0,0,0,.1)}.card.card-back{background:linear-gradient(135deg,#1a365d,#2c5282,#1a365d);color:transparent;border:none}.card.card-back:before{content:"";position:absolute;inset:0;border-radius:8px;pointer-events:none}.card.card-placeholder{background:#ffffff0d;border:2px dashed rgba(255,255,255,.2);display:flex;align-items:center;justify-content:center;box-shadow:none}.card.card-placeholder:before{display:none}.placeholder-text{color:#fff6;font-size:.75rem;text-align:center}.deck-stack,.card-stack{position:relative;width:var(--card-width);height:var(--card-height);cursor:pointer}.deck-stack .card,.card-stack .card{pointer-events:none}.deck-stack:hover .card:last-of-type,.card-stack:hover .card:last-of-type{transform:translateY(-3px)}.deck-count-badge{position:absolute;bottom:calc(var(--space-lg, 24px) * -1);left:50%;transform:translate(-50%);background:linear-gradient(135deg,var(--gold-accent) 0%,var(--gold-dark) 100%);color:var(--text-dark);padding:3px 10px;border-radius:10px;font-size:.8rem;font-weight:700;z-index:10;box-shadow:0 2px 6px #0000004d}.spread{padding:10px;display:flex;flex-direction:column;align-items:center;gap:5px}.spread-label{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:1px}.spread-cards{display:flex}.spread-cards .card{box-shadow:0 2px 4px #0003,0 4px 8px #0000001a}.spread.spread-book .spread-cards{gap:5px}.spread.spread-book .spread-cards .card{margin-left:0}.spread.can-hit{box-shadow:0 0 15px #d4a85566;animation:spreadPulse 1.5s ease-in-out infinite}@keyframes spreadPulse{0%,to{box-shadow:0 0 15px #d4a8554d}50%{box-shadow:0 0 25px #d4a85599}}.card.highlighted{outline:3px solid var(--gold-accent);outline-offset:2px}.card.highlight-valid{outline-color:var(--success);box-shadow:0 0 15px #2a9d5c66,0 4px 8px #0003}.card.highlight-invalid{outline-color:var(--danger);box-shadow:0 0 15px #e6394666,0 4px 8px #0003}@keyframes cardDeal{0%{opacity:0;transform:translateY(-50px) rotate(-10deg) scale(.8)}to{opacity:1;transform:translateY(0) rotate(0) scale(1)}}.card.dealing{animation:cardDeal .4s cubic-bezier(.34,1.56,.64,1) forwards}@keyframes cardFlip{0%{transform:rotateY(0) scale(1)}50%{transform:rotateY(90deg) scale(1.1)}to{transform:rotateY(0) scale(1)}}.card.flipping{animation:cardFlip .5s ease-in-out}@keyframes cardSlide{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}.card.sliding{animation:cardSlide .3s ease-out forwards}@keyframes cardDiscard{0%{transform:translateY(0) rotate(0)}to{transform:translateY(-20px) rotate(5deg);opacity:.8}}.card.discarding{animation:cardDiscard .3s ease-in forwards}@keyframes cardDraw{0%{transform:scale(1)}50%{transform:scale(1.1) translateY(-10px)}to{transform:scale(1) translateY(0)}}.card.drawing{animation:cardDraw .4s ease-out}.card[data-rank=J] .card-corner .rank,.card[data-rank=Q] .card-corner .rank,.card[data-rank=K] .card-corner .rank{font-family:Georgia,serif;font-style:italic}.card[data-rank=A] .card-center .suit-large{font-size:2.5rem}@media(max-width:480px){.card{border-radius:6px}.card-corner{font-size:.7rem}.card-corner .rank{font-size:.8rem}.card-corner .suit{font-size:.65rem}.card-corner.top-left{top:3px;left:4px}.card-corner.bottom-right{bottom:3px;right:4px}.card-center .suit-large{font-size:1.5rem}.card[data-rank=A] .card-center .suit-large{font-size:1.8rem}.deck-count-badge{bottom:calc(var(--space-md, 12px) * -1);font-size:.7rem;padding:2px 8px}}@media(max-width:380px){.card-corner{font-size:.6rem}.card-corner .rank{font-size:.7rem}.card-center .suit-large{font-size:1.2rem}.deck-count-badge{bottom:calc(var(--space-sm, 8px) * -1);font-size:.65rem;padding:2px 6px}}@media(min-width:768px){.card-corner .rank{font-size:1.1rem}.card-corner .suit{font-size:.9rem}.card-center .suit-large{font-size:2.2rem}}@media(min-width:1024px){.card-center .suit-large{font-size:2.4rem}}@media(-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.card{border-width:.5px}}@media(prefers-reduced-motion:reduce){.card,.card.dealing,.card.flipping,.card.sliding,.card.discarding,.card.drawing{animation:none;transition:none}.spread.can-hit{animation:none}}#opponent-area{display:flex;justify-content:space-evenly;gap:var(--gap-opponent);padding:var(--space-sm);min-height:var(--opponent-area-min);flex-wrap:wrap;align-items:flex-start;width:100%;overflow:hidden}.opponent-left-area,.opponent-right-area{display:flex;align-items:center;justify-content:center;padding:var(--space-xs);min-width:60px}.opponent-left-area .opponent-hand,.opponent-right-area .opponent-hand{flex-direction:column;align-items:center}.opponent-left-area .opponent-cards,.opponent-right-area .opponent-cards{flex-direction:column;height:auto;width:calc(var(--card-width) * var(--card-scale-opponent))}.opponent-left-area .opponent-cards .card,.opponent-right-area .opponent-cards .card{margin-left:0!important;margin-top:calc(var(--card-height) * var(--card-scale-opponent) * -.7)}.opponent-left-area .opponent-cards .card:first-child,.opponent-right-area .opponent-cards .card:first-child{margin-top:0}.opponent-left-area .opponent-info,.opponent-right-area .opponent-info{display:none}.opponent-hand{display:flex;flex-direction:column;align-items:center;gap:4px;position:relative;z-index:1;flex-shrink:1;min-width:0}.opponent-name{font-size:.85rem;font-weight:600;color:var(--text-light);text-shadow:1px 1px 2px rgba(0,0,0,.5)}.opponent-cards{display:flex;justify-content:center;height:calc(var(--card-height) * var(--card-scale-opponent));align-items:flex-start;position:relative;z-index:2;flex-shrink:1;min-width:0;max-width:100%}.opponent-cards .card{transform:scale(var(--card-scale-opponent));transform-origin:top center;flex-shrink:0;transition:margin-left .15s ease-out,transform .2s ease}.opponent-cards .card:first-child{margin-left:0}.opponent-info{font-size:.75rem;color:var(--text-muted);position:relative;z-index:5}#table-area{display:flex;flex-direction:row;align-items:flex-start;justify-content:center;gap:var(--space-lg);padding:var(--space-sm);min-height:auto}#spreads-area{display:flex;flex-wrap:wrap;gap:var(--gap-spreads);justify-content:flex-start;align-items:flex-start;min-height:var(--spreads-area-min);padding:var(--space-sm);position:relative;z-index:1}#spreads-area:empty{display:flex;align-items:center;justify-content:center;min-width:150px}#spreads-area:empty:before{content:"Spreads appear here";color:var(--text-muted);font-style:italic;font-size:.85rem;text-align:center}#deck-area{display:flex;gap:var(--gap-deck);align-items:center;justify-content:center;padding:var(--space-sm);flex-shrink:0}#deck{position:relative;width:var(--card-width);height:var(--card-height);cursor:pointer;transition:transform .2s ease}#deck:hover,#deck:active{transform:scale(1.05)}#deck.disabled{opacity:.5;cursor:not-allowed;transform:none}#deck-count{position:absolute;bottom:calc(var(--space-lg) * -1);left:50%;transform:translate(-50%);background:var(--gold-accent);color:var(--text-dark);padding:2px var(--space-sm);border-radius:10px;font-size:.75rem;font-weight:700;box-shadow:var(--shadow-sm);white-space:nowrap}#discard-pile{position:relative;width:var(--card-width);height:var(--card-height);cursor:pointer;transition:transform .2s ease}#discard-pile:hover,#discard-pile:active{transform:scale(1.05)}#discard-pile.disabled{cursor:not-allowed;transform:none}#discard-pile .card{position:absolute;top:0;left:0}#discard-label{position:absolute;bottom:calc(var(--space-lg) * -1);left:50%;transform:translate(-50%);color:var(--text-muted);font-size:.75rem;white-space:nowrap}#player-area{padding:var(--space-md);padding-top:var(--space-lg);text-align:center}#player-info{display:flex;justify-content:center;gap:var(--space-lg);margin-bottom:var(--space-md);font-size:.9rem}#player-name{font-weight:700;color:var(--gold-accent)}#card-count,#point-count{color:var(--text-muted)}#player-hand{display:flex;justify-content:center;align-items:center;min-height:90px;flex-wrap:nowrap;padding:var(--space-xs);overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:var(--gold-accent) rgba(0,0,0,.2)}#player-hand::-webkit-scrollbar{height:4px}#player-hand::-webkit-scrollbar-track{background:#0003;border-radius:2px}#player-hand::-webkit-scrollbar-thumb{background:var(--gold-accent);border-radius:2px}#player-hand.scrollable{position:relative}#player-hand.scrollable:after{content:"";position:absolute;right:0;top:0;bottom:0;width:20px;background:linear-gradient(to left,rgba(0,0,0,.3),transparent);pointer-events:none;z-index:10}#player-hand .card{transition:margin-left .15s ease-out,transform .2s ease,box-shadow .2s ease;flex-shrink:0}#player-hand .card.selected{transform:translateY(-10px);box-shadow:0 8px 20px #d4a85566}#action-buttons{display:flex;justify-content:center;flex-wrap:wrap;gap:var(--gap-buttons);padding:var(--space-md) var(--space-sm);background:#0006}#action-buttons button{min-height:44px;padding:var(--space-sm) var(--space-base);font-size:.85rem;border:none;border-radius:8px;cursor:pointer;transition:all .2s ease;font-weight:600;text-transform:uppercase;letter-spacing:.5px;line-height:1.2;touch-action:manipulation;-webkit-tap-highlight-color:transparent}#btn-form-spread{background:linear-gradient(135deg,var(--success) 0%,#218838 100%);color:#fff;box-shadow:0 2px 8px #2a9d5c4d}#btn-form-spread:hover:not(:disabled),#btn-form-spread:active:not(:disabled){background:linear-gradient(135deg,#218838,#1e7e34);transform:translateY(-2px);box-shadow:0 4px 12px #2a9d5c66}#btn-hit-spread{background:linear-gradient(135deg,#17a2b8,#138496);color:#fff;box-shadow:0 2px 8px #17a2b84d}#btn-hit-spread:hover:not(:disabled),#btn-hit-spread:active:not(:disabled){background:linear-gradient(135deg,#138496,#117a8b);transform:translateY(-2px);box-shadow:0 4px 12px #17a2b866}#btn-knock{background:linear-gradient(135deg,var(--danger) 0%,#c82333 100%);color:#fff;box-shadow:0 2px 8px #e639464d}#btn-knock:hover:not(:disabled),#btn-knock:active:not(:disabled){background:linear-gradient(135deg,#c82333,#bd2130);transform:translateY(-2px);box-shadow:0 4px 12px #e6394666}#btn-draw{background:linear-gradient(135deg,var(--info) 0%,#5b4cdb 100%);color:#fff;box-shadow:0 2px 8px #6c5ce74d}#btn-draw:hover:not(:disabled),#btn-draw:active:not(:disabled){background:linear-gradient(135deg,#5b4cdb,#4a3cc9);transform:translateY(-2px);box-shadow:0 4px 12px #6c5ce766}#btn-discard{background:linear-gradient(135deg,var(--gold-accent) 0%,var(--gold-dark) 100%);color:var(--text-dark);box-shadow:0 2px 8px #d4a8554d}#btn-discard:hover:not(:disabled),#btn-discard:active:not(:disabled){background:linear-gradient(135deg,var(--gold-dark) 0%,#a07830 100%);transform:translateY(-2px);box-shadow:0 4px 12px #d4a85566}.thinking-indicator{display:inline-flex;align-items:center;gap:8px}.thinking-dots{display:flex;gap:4px}.thinking-dots span{width:6px;height:6px;background:var(--gold-accent);border-radius:50%;animation:thinkingBounce 1.4s ease-in-out infinite}.thinking-dots span:nth-child(1){animation-delay:0s}.thinking-dots span:nth-child(2){animation-delay:.2s}.thinking-dots span:nth-child(3){animation-delay:.4s}@keyframes thinkingBounce{0%,80%,to{transform:translateY(0)}40%{transform:translateY(-6px)}}.spread{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px;transition:all .2s ease}.spread.can-hit{border-color:var(--gold-accent);box-shadow:0 0 10px #d4a8554d;cursor:pointer}.spread-owner{font-size:.7rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px}.spread-cards{display:flex;height:calc(var(--card-height) * var(--card-scale-spread));align-items:flex-start}.spread-cards .card{transform:scale(var(--card-scale-spread));transform-origin:top center;flex-shrink:0;transition:margin-left .15s ease-out,transform .2s ease}.spread-cards .card:first-child{margin-left:0}.empty-pile{width:var(--card-width);height:var(--card-height);border:2px dashed var(--border-subtle);border-radius:8px;display:flex;align-items:center;justify-content:center;color:var(--text-muted);font-size:.7rem}@media(min-width:640px){:root{--card-scale-opponent: .7;--card-scale-spread: .75;--gap-opponent: 30px;--gap-buttons: 10px;--gap-deck: 30px}.opponent-name{font-size:.9rem}#action-buttons button{padding:var(--space-sm) var(--space-base);font-size:.9rem}}@media(min-width:768px){:root{--card-width: 75px;--card-height: 105px;--card-scale-opponent: .8;--card-scale-spread: .8;--gap-opponent: 40px;--gap-deck: 35px;--gap-buttons: 15px;--gap-player-hand: 8px;--gap-spreads: 15px;--opponent-area-min: 150px;--spreads-area-min: 130px}.opponent-name{font-size:1rem}.opponent-info{font-size:.85rem}#spreads-area{max-width:800px}#player-info{font-size:1rem}#player-hand{min-height:110px}#action-buttons button{padding:var(--space-md) var(--space-lg);font-size:.95rem}}@media(min-width:1024px){:root{--card-width: 80px;--card-height: 112px;--card-scale-opponent: .85;--card-scale-spread: .85;--gap-opponent: 50px;--gap-deck: 40px;--gap-spreads: 20px}#action-buttons button{padding:var(--space-md) var(--space-xl);font-size:1rem}}@media(max-width:480px){:root{--card-width: 50px;--card-height: 72px;--card-scale-opponent: .5;--card-scale-spread: .55;--gap-opponent: 5px;--gap-deck: 15px;--gap-buttons: 6px;--gap-player-hand: 4px;--gap-spreads: 8px;--opponent-area-min: 70px;--table-area-min: 120px;--spreads-area-min: 60px;--space-lg: 16px;--space-xl: 24px;--message-area-top: calc(var(--header-height) + 40px + var(--space-base))}#game-header{flex-direction:column;gap:var(--space-sm);padding:var(--space-sm) var(--space-md)}#header-left{width:100%;justify-content:space-between}#game-header h1{font-size:1.4rem;letter-spacing:4px}#btn-rules,#btn-settings{padding:var(--space-sm) var(--space-md);font-size:.75rem}#match-scores{width:100%;justify-content:center;padding:var(--space-xs) var(--space-sm);font-size:.8rem}#turn-indicator{font-size:.85rem;padding:var(--space-xs) var(--space-md)}.opponent-name{font-size:.75rem}#deck-count,#discard-label,.opponent-info,#spreads-area:empty:before{display:none}#deck-area{margin-bottom:var(--space-sm);padding-bottom:var(--space-md)}#player-info{font-size:.8rem}#player-hand{min-height:75px}#action-buttons button{padding:var(--space-sm) var(--space-sm);font-size:.75rem}.thinking-dots span{width:5px;height:5px}.opponent-left-area,.opponent-right-area{min-width:45px;padding:2px}.opponent-left-area .opponent-name,.opponent-right-area .opponent-name{font-size:.65rem;writing-mode:vertical-rl;text-orientation:mixed;white-space:nowrap}.opponent-left-area .opponent-cards .card,.opponent-right-area .opponent-cards .card{margin-top:calc(var(--card-height) * var(--card-scale-opponent) * -.75)}}@media(max-height:500px)and (orientation:landscape){:root{--card-width: 50px;--card-height: 70px;--card-scale-opponent: .5;--card-scale-spread: .55;--gap-opponent: 10px;--gap-buttons: 6px;--gap-deck: 15px;--opponent-area-min: 50px;--table-area-min: 80px;--spreads-area-min: 50px;--space-lg: 14px;--space-xl: 20px}#game-container{padding:var(--space-xs) var(--space-sm)}#game-header{padding:var(--space-xs) var(--space-base)}#player-hand{min-height:60px}#action-buttons button{padding:var(--space-xs) var(--space-md);font-size:.7rem}.opponent-left-area,.opponent-right-area{min-width:50px}.opponent-left-area .opponent-name,.opponent-right-area .opponent-name{font-size:.6rem;writing-mode:vertical-rl;text-orientation:mixed}}@media(min-height:501px)and (max-height:650px)and (orientation:landscape){:root{--card-width: 60px;--card-height: 85px;--card-scale-opponent: .55;--card-scale-spread: .6;--gap-opponent: 15px;--gap-deck: 20px;--opponent-area-min: 60px;--table-area-min: 100px;--spreads-area-min: 55px}#player-hand{min-height:70px}#action-buttons button{padding:var(--space-sm) var(--space-base);font-size:.8rem}}@media(max-width:380px){:root{--card-width: 42px;--card-height: 60px;--card-scale-opponent: .45;--card-scale-spread: .5;--gap-opponent: 3px;--gap-buttons: 4px;--gap-deck: 10px;--space-lg: 14px;--space-xl: 20px;--opponent-area-min: 55px;--spreads-area-min: 55px;--message-area-top: calc(var(--header-height) + 50px + var(--space-base))}#game-header h1{font-size:1.2rem;letter-spacing:2px}#btn-rules,#btn-settings{padding:var(--space-xs) var(--space-sm);font-size:.7rem}#match-scores{gap:var(--space-md);padding:var(--space-xs) var(--space-sm);font-size:.7rem}#turn-indicator{font-size:.75rem;padding:var(--space-xs) var(--space-sm)}#deck-count,#discard-label,.opponent-info,#spreads-area:empty:before{display:none}#deck-area{margin-bottom:var(--space-xs);padding-bottom:var(--space-sm)}#action-buttons button{padding:var(--space-xs) var(--space-sm);font-size:.65rem;flex:1 1 auto}.opponent-left-area,.opponent-right-area{min-width:35px;padding:1px}.opponent-left-area .opponent-name,.opponent-right-area .opponent-name{font-size:.55rem}.opponent-left-area .opponent-cards .card,.opponent-right-area .opponent-cards .card{margin-top:calc(var(--card-height) * var(--card-scale-opponent) * -.8)}}@media(hover:none)and (pointer:coarse){#action-buttons button:active,.card:active{transform:scale(.95)}#deck:active:not(.disabled),#discard-pile:active:not(.disabled){transform:scale(.95)}}[data-deck-theme=classic] .card.card-back,.card.card-back{background:repeating-linear-gradient(45deg,transparent,transparent 5px,rgba(255,255,255,.03) 5px,rgba(255,255,255,.03) 10px),repeating-linear-gradient(-45deg,transparent,transparent 5px,rgba(255,255,255,.03) 5px,rgba(255,255,255,.03) 10px),linear-gradient(135deg,#1a365d,#2c5282,#1a365d);border:3px solid #4a7ab8;box-shadow:inset 0 0 20px #0000004d,inset 0 0 60px #ffffff0d,0 4px 12px #0006}[data-deck-theme=classic] .card.card-back:before,.card.card-back:before{content:"";position:absolute;inset:8px;border:2px solid rgba(255,255,255,.15);border-radius:4px;pointer-events:none}[data-deck-theme=classic] .card.card-back:after,.card.card-back:after{content:"";position:absolute;top:50%;left:50%;width:30px;height:30px;transform:translate(-50%,-50%) rotate(45deg);background:linear-gradient(135deg,#4a7ab8,#2c5282);border:2px solid rgba(255,255,255,.3);pointer-events:none}[data-deck-theme=royal] .card.card-back{background:radial-gradient(ellipse at 30% 30%,rgba(212,168,85,.1) 0%,transparent 50%),radial-gradient(ellipse at 70% 70%,rgba(212,168,85,.1) 0%,transparent 50%),linear-gradient(135deg,#2d1b4e,#4a2c7a,#2d1b4e);border:3px solid #8b6bb8;box-shadow:inset 0 0 20px #0006,inset 0 0 40px #8b6bb81a,0 4px 12px #0006}[data-deck-theme=royal] .card.card-back:before{content:"";position:absolute;inset:6px;border:2px solid rgba(212,168,85,.4);border-radius:6px;pointer-events:none}[data-deck-theme=royal] .card.card-back:after{content:"";position:absolute;top:50%;left:50%;width:40px;height:40px;transform:translate(-50%,-50%);background:radial-gradient(circle,rgba(212,168,85,.3) 0%,transparent 70%);border:2px solid rgba(212,168,85,.5);border-radius:50%;pointer-events:none}[data-deck-theme=midnight] .card.card-back{background:repeating-linear-gradient(0deg,transparent,transparent 8px,rgba(212,168,85,.08) 8px,rgba(212,168,85,.08) 9px),repeating-linear-gradient(90deg,transparent,transparent 8px,rgba(212,168,85,.08) 8px,rgba(212,168,85,.08) 9px),linear-gradient(180deg,#0a0a0a,#1a1a1a,#0a0a0a);border:3px solid #d4a855;box-shadow:inset 0 0 30px #00000080,inset 0 0 60px #d4a8550d,0 4px 12px #00000080,0 0 20px #d4a8551a}[data-deck-theme=midnight] .card.card-back:before{content:"";position:absolute;inset:10px;border:1px solid rgba(212,168,85,.3);pointer-events:none}[data-deck-theme=midnight] .card.card-back:after{content:"";position:absolute;top:50%;left:50%;width:20px;height:20px;transform:translate(-50%,-50%) rotate(45deg);background:#d4a855;box-shadow:0 0 10px #d4a85580;pointer-events:none}[data-deck-theme=emerald] .card.card-back{background:radial-gradient(circle at 25% 25%,rgba(192,192,192,.1) 0%,transparent 30%),radial-gradient(circle at 75% 75%,rgba(192,192,192,.1) 0%,transparent 30%),linear-gradient(135deg,#064e3b,#047857,#064e3b);border:3px solid #a7c4bc;box-shadow:inset 0 0 20px #0000004d,inset 0 0 50px #a7c4bc14,0 4px 12px #0006}[data-deck-theme=emerald] .card.card-back:before{content:"";position:absolute;inset:8px;border:2px solid rgba(192,192,192,.25);border-radius:8px;pointer-events:none}[data-deck-theme=emerald] .card.card-back:after{content:"";position:absolute;top:50%;left:50%;width:35px;height:35px;transform:translate(-50%,-50%);border:3px solid rgba(192,192,192,.4);border-radius:50%;pointer-events:none}[data-deck-theme=crimson] .card.card-back{background:repeating-linear-gradient(135deg,transparent,transparent 10px,rgba(0,0,0,.1) 10px,rgba(0,0,0,.1) 20px),linear-gradient(135deg,#4a0e0e,#8b1a1a,#4a0e0e);border:3px solid #d44444;box-shadow:inset 0 0 25px #0006,inset 0 0 50px #d444441a,0 4px 12px #0006}[data-deck-theme=crimson] .card.card-back:before{content:"";position:absolute;inset:6px;border:2px solid rgba(0,0,0,.3);border-radius:4px;pointer-events:none}[data-deck-theme=crimson] .card.card-back:after{content:"";position:absolute;top:50%;left:50%;width:24px;height:24px;transform:translate(-50%,-50%) rotate(45deg);background:linear-gradient(135deg,#d44444,#8b1a1a);border:2px solid rgba(255,255,255,.2);pointer-events:none}.theme-preview{width:50px;height:70px;border-radius:6px;position:relative;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}.theme-preview:hover{transform:scale(1.1)}.theme-preview.selected{box-shadow:0 0 0 3px var(--gold-accent),0 0 15px #d4a85566}.theme-preview.theme-classic{background:linear-gradient(135deg,#1a365d,#2c5282,#1a365d);border:2px solid #4a7ab8}.theme-preview.theme-royal{background:linear-gradient(135deg,#2d1b4e,#4a2c7a,#2d1b4e);border:2px solid #8b6bb8}.theme-preview.theme-midnight{background:linear-gradient(180deg,#0a0a0a,#1a1a1a,#0a0a0a);border:2px solid #d4a855}.theme-preview.theme-emerald{background:linear-gradient(135deg,#064e3b,#047857,#064e3b);border:2px solid #a7c4bc}.theme-preview.theme-crimson{background:linear-gradient(135deg,#4a0e0e,#8b1a1a,#4a0e0e);border:2px solid #d44444}#settings-modal .modal-content{max-width:min(400px,calc(100vw - var(--space-lg) * 2))}.settings-section{margin-bottom:25px}.settings-section h3{color:var(--gold-accent);margin-bottom:15px;font-size:1rem;text-transform:uppercase;letter-spacing:1px}.theme-options{display:flex;gap:15px;flex-wrap:wrap;justify-content:center}.theme-option{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;padding:10px;border-radius:8px;transition:background .2s ease}.theme-option:hover{background:#ffffff0d}.theme-option.selected{background:#d4a85526}.theme-option span{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px}.theme-option.selected span{color:var(--gold-accent)}
